import { Wine } from '../types/wine';
import { parseWineArray } from '../utils/wineParser';
import winesRawData from './winesRaw.json';
import { extraWines } from './winesExtra';

// Wine bottle images - Client's custom wine bottle images
const sparklingWineBottle = 'https://borisbelov.com/wine/brut.png';
const redWineBottle = 'https://borisbelov.com/wine/red.png';
const roseWineBottle = 'https://borisbelov.com/wine/rose.png';
const whiteWineBottle = 'https://borisbelov.com/wine/white.png';
const orangeWineBottle = 'https://borisbelov.com/wine/orange.png';

// Fallback bottles for variety
const wineBottle1 = redWineBottle;
const wineBottle2 = sparklingWineBottle;
const wineBottle3 = roseWineBottle;

// Generate random price between min and max (in rubles)
const generateRandomPrice = (min: number = 1000, max: number = 6000): number => {
  return Math.floor(Math.random() * (max - min + 1)) + min;
};

// Image pool for cycling through - Three premium wine bottles with golden patterns
const images = [
  wineBottle1, // Red wine bottle with golden pattern
  wineBottle2, // Sparkling wine with golden pattern
  wineBottle3, // Sparkling wine with pink pattern
];

const getImage = (index: number, wineType?: string) => {
  // Rose wines always get the special rose bottle
  if (wineType === 'розовый') {
    return roseWineBottle;
  }
  // White wines always get the special white bottle
  if (wineType === 'белый') {
    return whiteWineBottle;
  }
  // Sparkling wines always get the special sparkling bottle
  if (wineType === 'игристое') {
    return sparklingWineBottle;
  }
  // Red wines always get the special red bottle
  if (wineType === 'красный') {
    return redWineBottle;
  }
  // Orange wines get the special orange bottle
  if (wineType === 'оранжевый') {
    return orangeWineBottle;
  }
  return images[index % images.length];
};

// Ensure winesRawData is an array
const rawDataArray = Array.isArray(winesRawData) ? winesRawData : [];

console.log('winesRawData type:', typeof winesRawData);
console.log('winesRawData is array:', Array.isArray(winesRawData));
console.log('winesRawData length:', rawDataArray.length);
console.log('First item:', rawDataArray[0]);

const parsedWines = parseWineArray(rawDataArray);

console.log('Parsed wines from JSON:', parsedWines.length, 'wines');
if (parsedWines.length > 0) {
  console.log('First parsed wine:', parsedWines[0].name);
  console.log('First parsed wine image:', parsedWines[0].image);
}

// Temporary test data with correct structure
const testWines: Wine[] = [
  {
    id: 'wine-1',
    name: 'Gunko Blanc de Blancs',
    type: 'Игристое',
    price: generateRandomPrice(),
    image: sparklingWineBottle,
    colorDescription: 'Кристально-прозрачный с лимонными нотами и кристальной прозрачностью.',
    aromaTags: ['Цитрусовые', 'Яблочно-грушевые', 'Цветочные', 'Минеральные', 'Тропические', 'Пряные'],
    flavorTags: ['Цитрусовые', 'Яблочные', 'Минеральные', 'Цветочные', 'Тропические', 'Пряные'],
    aromaDescription: 'Интенсивный аромат сочетает Цитрусовые, Яблочно-грушевые, Цветочные, Минеральные, дополненные тонкими тропические и пряные оттенками.',
    flavorDescription: 'Вкусовой профиль демонстрирует Цитрусовые, Яблочные, Минеральные, Цветочные. Послевкусие: фруктово-пряное и стойкое.',
    ratings: { vivino: 4.3, wineEnthusiast: 4.5, cellarTracker: 4.3 },
    averageRating: 4.4,
    characteristics: {
      body: 2,
      sweetness: 'сухое',
      acidity: 3,
      tannins: 1,
      aromatic: 3,
    },
    productionMethod: 'Традиционный (méthode traditionnelle)',
    grapeVariety: '100% Chardonnay',
    flavorProfile: {
      'Цитрусовые': 5,
      'Яблочно-грушевые': 4,
      'Цветочные': 3,
      'Минеральные': 4,
      'Тропические': 3,
      'Пряные': 2,
    },
    flavorWheelProfile: {
      'Цветочные': 3,
      'Цитрусовые': 5,
      'Косточковые фрукты': 0,
      'Тропические фрукты': 3,
      'Тело': 2,
      'Кремовость': 1,
      'Минеральность': 4,
      'Кислотность': 3,
      'Травянистые': 0,
    },
    sommelierRecommendations: [
      {
        id: 'somm-1-1',
        firstName: 'Андрей',
        lastName: 'Мельников',
        position: 'Главный сомелье ресторана "White Rabbit"',
        recommendation: 'Идеально с устрицами, подавать охлажденным до 6-8°C',
      },
      {
        id: 'somm-1-2',
        firstName: 'Мария',
        lastName: 'Петрова',
        position: 'Винный эксперт, WSET Level 3',
        recommendation: 'Прекрасный баланс для аперитива и козьего сыра',
      },
      {
        id: 'somm-1-3',
        firstName: 'Владимир',
        lastName: 'Соколов',
        position: 'Сомелье года 2024',
        recommendation: 'Для особых случаев и торжеств',
      },
      {
        id: 'somm-1-4',
        firstName: 'Ольга',
        lastName: 'Васильева',
        position: 'Шеф-сомелье ресторана "Sixty"',
        recommendation: 'Отлично сочетается с японской кухней и роллами',
      },
    ],
  },
  {
    id: 'wine-2',
    name: 'Абрау Дюрсо "Виктор Дравиньи" Брют Розе',
    type: 'Игристое',
    price: generateRandomPrice(),
    image: sparklingWineBottle,
    colorDescription: 'Деликатный розовый с клубничными оттенками и кристальной прозрачностью.',
    aromaTags: ['Красные ягоды', 'Цветочные', 'Цитрусовые', 'Минеральные', 'Тропические', 'Пряные'],
    flavorTags: ['Красные ягоды', 'Цветочные', 'Цитрусовые', 'Минеральные', 'Тропические', 'Пряные'],
    aromaDescription: 'Комплексный нос показывает Красные ягоды, Цветочные, Цитрусовые, Минеральные, дополненные тонкими тропические и пряные оттенками.',
    flavorDescription: 'Вкусовой профиль демонстрирует Красные ягоды, Цветочные, Цитрусовые, Минеральные. Послевкусие: элегантное и затяжное.',
    ratings: { vivino: 3.8, wineEnthusiast: 4.3, cellarTracker: 4.45 },
    averageRating: 4.2,
    characteristics: {
      body: 2,
      sweetness: 'сухое',
      acidity: 3,
      tannins: 1,
      aromatic: 3,
    },
    productionMethod: 'Классическая винификация',
    grapeVariety: 'Сортовой состав уточняется',
    flavorProfile: {
      'Красные ягоды': 4,
      'Цветочные': 4,
      'Цитрусовые': 3,
      'Минеральные': 3,
    },
    flavorWheelProfile: {
      'Цветочные': 4,
      'Цитрусовые': 3,
      'Косточковые фрукты': 0,
      'Тропические фрукты': 2,
      'Тело': 2,
      'Кремовость': 0,
      'Минеральность': 3,
      'Кислотность': 3,
      'Травянистые': 0,
    },
    sommelierRecommendations: [
      {
        id: 'somm-2-1',
        firstName: 'Андрей',
        lastName: 'Мельников',
        position: 'Главный сомелье ресторана "White Rabbit"',
        recommendation: 'Идеально с легкими закусками и ягодными десертами',
      },
      {
        id: 'somm-2-2',
        firstName: 'Мария',
        lastName: 'Петрова',
        position: 'Винный эксперт, WSET Level 3',
        recommendation: 'Для особых моментов и романтического настроения',
      },
      {
        id: 'somm-2-3',
        firstName: 'Владимир',
        lastName: 'Соколов',
        position: 'Сомелье года 2024',
        recommendation: 'Прекрасно с морепродуктами и салатами',
      },
      {
        id: 'somm-2-4',
        firstName: 'Ольга',
        lastName: 'Васильева',
        position: 'Шеф-сомелье ресторана "Sixty"',
        recommendation: 'Отлично с суши и роллами, идеально для лета',
      },
    ],
  },
  {
    id: 'wine-3',
    name: 'Vinho Verde Branco, Yasmin',
    type: 'Белое',
    price: generateRandomPrice(),
    image: whiteWineBottle,
    colorDescription: 'Бледно-лимонный с золотистыми отблесками и кристальной прозрачностью.',
    aromaTags: ['Цитрусовые', 'Яблочно-грушевые', 'Цветочные', 'Минеральные', 'Тропические', 'Пряные'],
    flavorTags: ['Цитрусовые', 'Яблочные', 'Минеральные', 'Цветочные', 'Тропические', 'Пряные'],
    aromaDescription: 'Комплексный нос показывает Цитрусовые, Яблочно-грушевые, Цветочные, Минеральные, дополненные тонкими тропические и пряные оттенками.',
    flavorDescription: 'Во вкусе ощущаются Цитрусовые, Яблочные, Минеральные, Цветочные. Послевкусие: кремовое и гармоничное.',
    ratings: { vivino: 4.0, wineEnthusiast: 4.45, cellarTracker: 4.45 },
    averageRating: 4.3,
    characteristics: {
      body: 2,
      sweetness: 'сухое',
      acidity: 3,
      tannins: 1,
      aromatic: 3,
    },
    productionMethod: 'Классическая винификация',
    grapeVariety: 'Смесь португальских автохтонных сортов',
    flavorProfile: {
      'Цитрусовые': 5,
      'Яблочно-грушевые': 4,
      'Цветочные': 3,
      'Минеральные': 4,
    },
    flavorWheelProfile: {
      'Цветочные': 3,
      'Цитрусовые': 5,
      'Косточковые фрукты': 0,
      'Тропические фрукты': 3,
      'Тело': 2,
      'Кремовость': 2,
      'Минеральность': 4,
      'Кислотность': 3,
      'Травянистые': 0,
    },
    sommelierRecommendations: [
      {
        id: 'somm-3-1',
        firstName: 'Андрей',
        lastName: 'Мельников',
        position: 'Главный сомелье ресторана "White Rabbit"',
        recommendation: 'Идеально для устриц, подавать охлажденным',
      },
      {
        id: 'somm-3-2',
        firstName: 'Мария',
        lastName: 'Петрова',
        position: 'Винный эксперт, WSET Level 3',
        recommendation: 'Прекрасно с салатами и козьим сыром',
      },
      {
        id: 'somm-3-3',
        firstName: 'Владимир',
        lastName: 'Соколов',
        position: 'Сомелье года 2024',
        recommendation: 'Отличный аперитив для дневных мероприятий',
      },
      {
        id: 'somm-3-4',
        firstName: 'Ольга',
        lastName: 'Васильева',
        position: 'Шеф-сомелье ресторана "Sixty"',
        recommendation: 'Превосходно с севиче и тартарами',
      },
    ],
  },
  {
    id: 'wine-4',
    name: 'Пино Нуар Домен Липко 2022',
    type: 'Красное',
    price: generateRandomPrice(),
    image: redWineBottle,
    colorDescription: 'Глубокий рубиновый с гранатовыми отблесками и кристальной прозрачностью.',
    aromaTags: ['Красные ягоды', 'Черные ягоды', 'Пряные', 'Землистые', 'Дубовые', 'Цветочные'],
    flavorTags: ['Красные ягоды', 'Черные ягоды', 'Пряные', 'Землистые', 'Дубовые', 'Шоколадные'],
    aromaDescription: 'Элегантный букет демонстрирует Красные ягоды, Черные ягоды, Пряные, Землистые, дополненные тонкими дубовые и цветочные оттенками.',
    flavorDescription: 'Палитра вкуса раскрывает Красные ягоды, Черные ягоды, Пряные, Землистые. Послевкусие: свежее и продолжительное.',
    ratings: { vivino: 3.9, wineEnthusiast: 4.55, cellarTracker: 4.35 },
    averageRating: 4.3,
    characteristics: {
      body: 3,
      sweetness: 'сухое',
      acidity: 3,
      tannins: 3,
      aromatic: 3,
    },
    productionMethod: 'Классическая винификация',
    grapeVariety: 'Пино Нуар',
    flavorProfile: {
      'Красные ягоды': 5,
      'Черные ягоды': 4,
      'Пряные': 3,
      'Землистые': 3,
      'Дубовые': 2,
    },
    flavorWheelProfile: {
      'Цветочные': 2,
      'Цитрусовые': 0,
      'Косточковые фрукты': 0,
      'Тропические фрукты': 0,
      'Тело': 3,
      'Кремовость': 0,
      'Минеральность': 2,
      'Кислотность': 3,
      'Травянистые': 1,
    },
  },
  {
    id: 'wine-5',
    name: 'Domaine des Aspras Tomares Ballus',
    type: 'Розовое',
    price: generateRandomPrice(),
    image: roseWineBottle,
    colorDescription: 'Деликатный розовый с клубничными оттенками и кристальной прозрачностью.',
    aromaTags: ['Красные ягоды', 'Цветочные', 'Цитрусовые', 'Минеральные', 'Тропические', 'Пряные'],
    flavorTags: ['Красные ягоды', 'Цветочные', 'Цитрусовые', 'Минеральные', 'Тропические', 'Пряные'],
    aromaDescription: 'Интенсивный аромат сочетает Красные ягоды, Цветочные, Цитрусовые, Минеральные, дополненные тонкими тропические и пряные оттенками.',
    flavorDescription: 'Палитра вкуса раскрывает Красные ягоды, Цветочные, Цитрусовые, Минеральные. Послевкусие: долгое и минеральное.',
    ratings: { vivino: 3.8, wineEnthusiast: 4.25, cellarTracker: 4.55 },
    averageRating: 4.2,
    characteristics: {
      body: 2,
      sweetness: 'сухое',
      acidity: 3,
      tannins: 1,
      aromatic: 3,
    },
    productionMethod: 'Классическая винификация',
    grapeVariety: 'Сортовой состав уточняется',
    flavorProfile: {
      'Красные ягоды': 4,
      'Цветочные': 5,
      'Цитрусовые': 3,
      'Минеральные': 4,
    },
    flavorWheelProfile: {
      'Цветочные': 5,
      'Цитрусовые': 3,
      'Косточковые фрукты': 0,
      'Тропические фрукты': 2,
      'Тело': 2,
      'Кремовость': 0,
      'Минеральность': 4,
      'Кислотность': 3,
      'Травянистые': 0,
    },
  },
  {
    id: 'wine-6',
    name: 'Loco Cimbali Orange',
    type: 'Оранж',
    price: generateRandomPrice(),
    image: orangeWineBottle,
    colorDescription: 'Медно-золотистый с апельсиновыми отблесками и кристальной прозрачностью.',
    aromaTags: ['Цитрусовые', 'Чайные', 'Минеральные', 'Мёдовые', 'Пряные', 'Ореховые'],
    flavorTags: ['Цитрусовые (апельсиновая цедра)', 'Чайные', 'Минеральные', 'Медовые', 'Ореховые', 'Танинные'],
    aromaDescription: 'Комплексный нос показывает Цитрусовые, Чайные, Минеральные, Мёдовые, дополненные тонкими пряные и ореховые оттенками.',
    flavorDescription: 'На небе доминируют Цитрусовые (апельсиновая цедра), Чайные, Минеральные, Медовые. Послевкусие: фруктово-пряное и стойкое.',
    ratings: { vivino: 3.9, wineEnthusiast: 4.45, cellarTracker: 4.45 },
    averageRating: 4.3,
    characteristics: {
      body: 3,
      sweetness: 'сухое',
      acidity: 3,
      tannins: 3,
      aromatic: 3,
    },
    productionMethod: 'Классическая винификация',
    grapeVariety: 'Сортовой состав уточняется',
    flavorProfile: {
      'Цитрусовые': 5,
      'Чайные': 4,
      'Минеральные': 4,
      'Мёдовые': 3,
      'Ореховые': 3,
    },
    flavorWheelProfile: {
      'Цветочные': 0,
      'Цитрусовые': 5,
      'Косточковые фрукты': 0,
      'Тропические фрукты': 0,
      'Тело': 3,
      'Кремовость': 0,
      'Минеральность': 4,
      'Кислотность': 3,
      'Травянистые': 0,
    },
  },
  {
    id: 'wine-7',
    name: 'Каберне Совиньон Массандра 2020',
    type: 'Красное',
    price: generateRandomPrice(),
    image: redWineBottle,
    colorDescription: 'Насыщенный гранатовый с фиолетовыми отблесками.',
    aromaTags: ['Черные ягоды', 'Пряные', 'Дубовые', 'Шоколадные'],
    flavorTags: ['Черные ягоды', 'Пряные', 'Дубовые', 'Танинные'],
    aromaDescription: 'Мощный букет черных ягод, пряностей и дубовых нот.',
    flavorDescription: 'Полнотелое вино с насыщенными танинами и долгим послевкусием.',
    ratings: { vivino: 4.1, wineEnthusiast: 4.4, cellarTracker: 4.3 },
    averageRating: 4.3,
    characteristics: {
      body: 5,
      sweetness: 'сухое',
      acidity: 3,
      tannins: 5,
      aromatic: 4,
    },
    productionMethod: 'Выдержка в дубовых бочках 12 месяцев',
    grapeVariety: '100% Каберне Совиньон',
    flavorProfile: {
      'Черные ягоды': 5,
      'Пряные': 4,
      'Дубовые': 4,
      'Шоколадные': 3,
    },
    flavorWheelProfile: {
      'Цветочные': 0,
      'Цитрусовые': 0,
      'Косточковые фрукты': 0,
      'Тропические фрукты': 0,
      'Тело': 5,
      'Кремовость': 0,
      'Минеральность': 1,
      'Кислотность': 3,
      'Травянистые': 2,
    },
  },
  {
    id: 'wine-8',
    name: 'Шардоне Новый Свет 2022',
    type: 'Белое',
    price: generateRandomPrice(),
    image: whiteWineBottle,
    colorDescription: 'Золотисто-соломенный с зеленоватыми отблесками.',
    aromaTags: ['Косточковые фрукты', 'Цветочные', 'Минеральные', 'Тропические'],
    flavorTags: ['Косточковые фрукты', 'Минеральные', 'Тропические'],
    aromaDescription: 'Элегантный аромат персика, абрикоса и белых цветов.',
    flavorDescription: 'Освежающий вкус с нотами косточковых фруктов и минеральности.',
    ratings: { vivino: 4.2, wineEnthusiast: 4.4, cellarTracker: 4.3 },
    averageRating: 4.3,
    characteristics: {
      body: 3,
      sweetness: 'сухое',
      acidity: 4,
      tannins: 1,
      aromatic: 4,
    },
    productionMethod: 'Ферментация в нержавеющей стали',
    grapeVariety: '100% Шардоне',
    flavorProfile: {
      'Косточковые фрукты': 5,
      'Цветочные': 3,
      'Минеральные': 4,
      'Тропические': 3,
    },
    flavorWheelProfile: {
      'Цветочные': 3,
      'Цитрусовые': 2,
      'Косточковые фрукты': 5,
      'Тропические фрукты': 3,
      'Тело': 3,
      'Кремовость': 2,
      'Минеральность': 4,
      'Кислотность': 4,
      'Травянистые': 0,
    },
  },
  {
    id: 'wine-9',
    name: 'Совиньон Блан Fanagoria',
    type: 'Белое',
    price: generateRandomPrice(),
    image: whiteWineBottle,
    colorDescription: 'Светло-соломенный с серебристыми отблесками.',
    aromaTags: ['Цитрусовые', 'Травянистые', 'Тропические', 'Минеральные'],
    flavorTags: ['Цитрусовые', 'Травянистые', 'Минеральные'],
    aromaDescription: 'Яркий аромат лайма, крыжовника и свежескошенной травы.',
    flavorDescription: 'Хрустящий, освежающий вкус с высокой кислотностью.',
    ratings: { vivino: 3.9, wineEnthusiast: 4.2, cellarTracker: 4.1 },
    averageRating: 4.1,
    characteristics: {
      body: 2,
      sweetness: 'сухое',
      acidity: 5,
      tannins: 1,
      aromatic: 4,
    },
    productionMethod: 'Классическая винификация',
    grapeVariety: '100% Совиньон Блан',
    flavorProfile: {
      'Цитрусовые': 5,
      'Травянистые': 4,
      'Тропические': 3,
      'Минеральные': 4,
    },
    flavorWheelProfile: {
      'Цветочные': 1,
      'Цитрусовые': 5,
      'Косточковые фрукты': 0,
      'Тропические фрукты': 3,
      'Тело': 2,
      'Кремовость': 0,
      'Минеральность': 4,
      'Кислотность': 5,
      'Травянистые': 4,
    },
  },
  {
    id: 'wine-10',
    name: 'Мерло Резерв Кубань-Вино',
    type: 'Красное',
    price: generateRandomPrice(),
    image: redWineBottle,
    colorDescription: 'Темно-рубиновый с вишневыми оттенками.',
    aromaTags: ['Красные ягоды', 'Черные ягоды', 'Пряные', 'Цветочные'],
    flavorTags: ['Красные ягоды', 'Пряные', 'Шоколадные'],
    aromaDescription: 'Букет спелой вишни, сливы и фиалки с пряными нотами.',
    flavorDescription: 'Мягкое, бархатистое вино с округлыми танинами.',
    ratings: { vivino: 4.0, wineEnthusiast: 4.3, cellarTracker: 4.2 },
    averageRating: 4.2,
    characteristics: {
      body: 4,
      sweetness: 'сухое',
      acidity: 3,
      tannins: 3,
      aromatic: 4,
    },
    productionMethod: 'Выдержка в дубовых бочках 9 месяцев',
    grapeVariety: '100% Мерло',
    flavorProfile: {
      'Красные ягоды': 5,
      'Черные ягоды': 4,
      'Пряные': 3,
      'Шоколадные': 2,
    },
    flavorWheelProfile: {
      'Цветочные': 3,
      'Цитрусовые': 0,
      'Косточковые фрукты': 1,
      'Тропические фрукты': 0,
      'Тело': 4,
      'Кремовость': 1,
      'Минеральность': 2,
      'Кислотность': 3,
      'Травянистые': 0,
    },
  },
  {
    id: 'wine-11',
    name: 'Рислинг Мысхако',
    type: 'Белое',
    price: generateRandomPrice(),
    image: whiteWineBottle,
    colorDescription: 'Бледно-желтый с зеленоватыми отблесками.',
    aromaTags: ['Цитрусовые', 'Косточковые фрукты', 'Цветочные', 'Минеральные'],
    flavorTags: ['Цитрусовые', 'Косточковые фрукты', 'Минеральные'],
    aromaDescription: 'Деликатные ароматы лимона, персика и акации.',
    flavorDescription: 'Элегантное вино с хрустящей кислотностью и минеральным послевкусием.',
    ratings: { vivino: 4.1, wineEnthusiast: 4.4, cellarTracker: 4.3 },
    averageRating: 4.3,
    characteristics: {
      body: 2,
      sweetness: 'полусухое',
      acidity: 5,
      tannins: 1,
      aromatic: 5,
    },
    productionMethod: 'Классическая винификация',
    grapeVariety: '100% Рислинг',
    flavorProfile: {
      'Цитрусовые': 5,
      'Косточковые фрукты': 4,
      'Цветочные': 4,
      'Минеральные': 5,
    },
    flavorWheelProfile: {
      'Цветочные': 4,
      'Цитрусовые': 5,
      'Косточковые фрукты': 4,
      'Тропические фрукты': 1,
      'Тело': 2,
      'Кремовость': 0,
      'Минеральность': 5,
      'Кислотность': 5,
      'Травянистые': 0,
    },
  },
  {
    id: 'wine-12',
    name: 'Просекко Абрау-Дюрсо',
    type: 'Игристое',
    price: generateRandomPrice(),
    image: sparklingWineBottle,
    colorDescription: 'Бледно-соломенный с устойчивыми пузырьками.',
    aromaTags: ['Цветочные', 'Цитрусовые', 'Тропические', 'Яблочно-грушевые'],
    flavorTags: ['Цитрусовые', 'Тропические', 'Яблочные'],
    aromaDescription: 'Свежие ароматы белых цветов, лимона и зеленого яблока.',
    flavorDescription: 'Легкое, освежающее с нотами цитрусовых и яблок.',
    ratings: { vivino: 3.8, wineEnthusiast: 4.1, cellarTracker: 4.0 },
    averageRating: 4.0,
    characteristics: {
      body: 2,
      sweetness: 'полусухое',
      acidity: 4,
      tannins: 1,
      aromatic: 4,
    },
    productionMethod: 'Метод Шарма',
    grapeVariety: 'Глера, Шардоне',
    flavorProfile: {
      'Цветочные': 4,
      'Цитрусовые': 5,
      'Тропические': 3,
      'Яблочно-грушевые': 4,
    },
    flavorWheelProfile: {
      'Цветочные': 4,
      'Цитрусовые': 5,
      'Косточковые фрукты': 0,
      'Тропические фрукты': 3,
      'Тело': 2,
      'Кремовость': 1,
      'Минеральность': 2,
      'Кислотность': 4,
      'Травянистые': 0,
    },
  },
  {
    id: 'wine-13',
    name: 'Каберне Фран Долина Дона',
    type: 'Красное',
    price: generateRandomPrice(),
    image: redWineBottle,
    colorDescription: 'Средне-рубиновый с малиновым оттенком.',
    aromaTags: ['Красные ягоды', 'Пряные', 'Травянистые', 'Цветочные'],
    flavorTags: ['Красные ягоды', 'Пряные', 'Травянистые'],
    aromaDescription: 'Ароматы малины, болгарского перца и фиалки.',
    flavorDescription: 'Среднетелое вино с элегантными танинами и травянистыми нотами.',
    ratings: { vivino: 3.9, wineEnthusiast: 4.2, cellarTracker: 4.1 },
    averageRating: 4.1,
    characteristics: {
      body: 3,
      sweetness: 'сухое',
      acidity: 4,
      tannins: 3,
      aromatic: 4,
    },
    productionMethod: 'Классическая винификация',
    grapeVariety: '100% Каберне Фран',
    flavorProfile: {
      'Красные ягоды': 5,
      'Пряные': 3,
      'Травянистые': 4,
      'Цветочные': 3,
    },
    flavorWheelProfile: {
      'Цветочные': 3,
      'Цитрусовые': 0,
      'Косточковые фрукты': 0,
      'Тропические фрукты': 0,
      'Тело': 3,
      'Кремовость': 0,
      'Минеральность': 2,
      'Кислотность': 4,
      'Травянистые': 4,
    },
  },
  {
    id: 'wine-14',
    name: 'Розе де Прованс Усадьба Дивноморское',
    type: 'Розовое',
    price: generateRandomPrice(),
    image: roseWineBottle,
    colorDescription: 'Нежно-розовый с лососевыми оттенками.',
    aromaTags: ['Красные ягоды', 'Цветочные', 'Цитрусовые', 'Минеральные'],
    flavorTags: ['Красные ягоды', 'Цитрусовые', 'Минеральные'],
    aromaDescription: 'Свежие ароматы клубники, грейпфрута и розовых лепестков.',
    flavorDescription: 'Легкое, освежающее с деликатными фруктовыми нотами.',
    ratings: { vivino: 4.0, wineEnthusiast: 4.3, cellarTracker: 4.2 },
    averageRating: 4.2,
    characteristics: {
      body: 2,
      sweetness: 'сухое',
      acidity: 4,
      tannins: 1,
      aromatic: 3,
    },
    productionMethod: 'Метод кровопускания',
    grapeVariety: 'Гренаш, Сира',
    flavorProfile: {
      'Красные ягоды': 4,
      'Цветочные': 4,
      'Цитрусовые': 4,
      'Минеральные': 3,
    },
    flavorWheelProfile: {
      'Цветочные': 4,
      'Цитрусовые': 4,
      'Косточковые фрукты': 0,
      'Тропические фрукты': 1,
      'Тело': 2,
      'Кремовость': 0,
      'Минеральность': 3,
      'Кислотность': 4,
      'Травянистые': 0,
    },
  },
  {
    id: 'wine-15',
    name: 'Санджовезе Лефкадия',
    type: 'Красное',
    price: generateRandomPrice(),
    image: redWineBottle,
    colorDescription: 'Ярко-рубиновый с гранатовыми оттенками.',
    aromaTags: ['Красные ягоды', 'Пряные', 'Землистые', 'Цветочные'],
    flavorTags: ['Красные ягоды', 'Пряные', 'Землистые', 'Танинные'],
    aromaDescription: 'Букет вишни, сливы, фиалки с землистыми оттенками.',
    flavorDescription: 'Среднетелое вино с яркой кислотностью и пикантными танинами.',
    ratings: { vivino: 4.1, wineEnthusiast: 4.4, cellarTracker: 4.3 },
    averageRating: 4.3,
    characteristics: {
      body: 3,
      sweetness: 'сухое',
      acidity: 4,
      tannins: 4,
      aromatic: 3,
    },
    productionMethod: 'Выдержка в дубовых бочках 6 месяцев',
    grapeVariety: '100% Санджовезе',
    flavorProfile: {
      'Красные ягоды': 5,
      'Пряные': 4,
      'Землистые': 3,
      'Цветочные': 3,
    },
    flavorWheelProfile: {
      'Цветочные': 3,
      'Цитрусовые': 0,
      'Косточковые фрукты': 1,
      'Тропические фрукты': 0,
      'Тело': 3,
      'Кремовость': 0,
      'Минеральность': 2,
      'Кислотность': 4,
      'Травянистые': 1,
    },
  },
  {
    id: 'wine-16',
    name: 'Gewürztraminer Gelendzhik Winery',
    type: 'Белое',
    price: generateRandomPrice(),
    image: whiteWineBottle,
    colorDescription: 'Золотисто-желтый с медовыми отблесками.',
    aromaTags: ['Цветочные', 'Тропические', 'Пряные', 'Мёдовые'],
    flavorTags: ['Тропические', 'Пряные', 'Медовые'],
    aromaDescription: 'Интенсивный аромат личи, розы и имбиря.',
    flavorDescription: 'Полнотелое, ароматное вино с экзотическими фруктовыми нотами.',
    ratings: { vivino: 4.2, wineEnthusiast: 4.5, cellarTracker: 4.4 },
    averageRating: 4.4,
    characteristics: {
      body: 4,
      sweetness: 'полусухое',
      acidity: 3,
      tannins: 1,
      aromatic: 5,
    },
    productionMethod: 'Классическая винификация',
    grapeVariety: '100% Гевюрцтраминер',
    flavorProfile: {
      'Цветочные': 5,
      'Тропические': 5,
      'Пряные': 4,
      'Мёдовые': 3,
    },
    flavorWheelProfile: {
      'Цветочные': 5,
      'Цитрусовые': 1,
      'Косточковые фрукты': 0,
      'Тропические фрукты': 5,
      'Тело': 4,
      'Кремовость': 2,
      'Минеральн��сть': 1,
      'Кислотность': 3,
      'Травянистые': 0,
    },
  },
  {
    id: 'wine-17',
    name: 'Темпранильо Юбилейная Фанагория',
    type: 'красный',
    price: generateRandomPrice(),
    image: redWineBottle,
    colorDescription: 'Глубокий рубиновый с фиолетовыми отблесками.',
    aromaTags: ['Красные ягоды', 'Черные ягоды', 'Пряные', 'Дубовые'],
    flavorTags: ['Красные ягоды', 'Пряные', 'Дубовые', 'Ореховые'],
    aromaDescription: 'Сложный букет вишни, сливы, ванили и кожи.',
    flavorDescription: 'Элегантное вино с шелковистыми танинами и пряным послевкусием.',
    ratings: { vivino: 4.2, wineEnthusiast: 4.5, cellarTracker: 4.4 },
    averageRating: 4.4,
    characteristics: {
      body: 4,
      sweetness: 'сухое',
      acidity: 3,
      tannins: 4,
      aromatic: 4,
    },
    productionMethod: 'Выдержка в дубовых бочках 12 месяцев',
    grapeVariety: '100% Темпранильо',
    flavorProfile: {
      'Красные я��оды': 4,
      'Черные ягоды': 4,
      'Пряные': 4,
      'Дубовые': 3,
    },
    flavorWheelProfile: {
      'Цветочные': 1,
      'Цитрусовые': 0,
      'Косточковые фрукты': 0,
      'Тропические фрукты': 0,
      'Тело': 4,
      'Кремовость': 1,
      'Минеральность': 2,
      'Кислотность': 3,
      'Травянистые': 0,
    },
  },
  {
    id: 'wine-18',
    name: 'Пино Гри Château Tamagne',
    type: 'белый',
    price: generateRandomPrice(),
    image: whiteWineBottle,
    colorDescription: 'Светло-золотистый с медными отблесками.',
    aromaTags: ['Косточковые фрукты', 'Цветочные', 'Пряные', 'Мёдовые'],
    flavorTags: ['Косточковые фрукты', 'Пряные', 'Медовые'],
    aromaDescription: 'Деликатные ароматы груши, абрикоса и акации.',
    flavorDescription: 'Среднетелое вино с мягкой текстурой и пряным послевкусием.',
    ratings: { vivino: 4.0, wineEnthusiast: 4.3, cellarTracker: 4.2 },
    averageRating: 4.2,
    characteristics: {
      body: 3,
      sweetness: 'сухое',
      acidity: 3,
      tannins: 1,
      aromatic: 4,
    },
    productionMethod: 'Классическая винификация',
    grapeVariety: '100% Пино Гри',
    flavorProfile: {
      'Косточковые фрукты': 5,
      'Цветочные': 3,
      'Пряные': 3,
      'Мёдовые': 3,
    },
    flavorWheelProfile: {
      'Цветочные': 3,
      'Цитрусовые': 1,
      'Косточковые фрукты': 5,
      'Тропические фрукты': 0,
      'Тело': 3,
      'Кремовость': 2,
      'Минеральность': 2,
      'Кислотность': 3,
      'Травянистые': 0,
    },
  },
  {
    id: 'wine-19',
    name: 'Сира Гай-Кодзор',
    type: 'красный',
    price: generateRandomPrice(),
    image: redWineBottle,
    colorDescription: 'Очень темный, почти черный с фиолетовыми отблесками.',
    aromaTags: ['Черные ягоды', 'Пряные', 'Дубовые', 'Шоколадные'],
    flavorTags: ['Черные ягоды', 'Пряные', 'Дубовые', 'Танинные'],
    aromaDescription: 'Мощный букет ежевики, черного перца и копченостей.',
    flavorDescription: 'Полнотелое, насыщенное вино с бархатистыми танинами.',
    ratings: { vivino: 4.3, wineEnthusiast: 4.6, cellarTracker: 4.5 },
    averageRating: 4.5,
    characteristics: {
      body: 5,
      sweetness: 'сухое',
      acidity: 3,
      tannins: 5,
      aromatic: 4,
    },
    productionMethod: 'Выдержка в дубовых бочках 14 месяцев',
    grapeVariety: '100% Сира',
    flavorProfile: {
      'Черные ягоды': 5,
      'Пряные': 5,
      'Дубовые': 4,
      'Шоколадные': 3,
    },
    flavorWheelProfile: {
      'Цветочные': 1,
      'Цитрусовые': 0,
      'Косточковые фрукты': 0,
      'Тропические фрукты': 0,
      'Тело': 5,
      'Кремовость': 0,
      'Минеральность': 2,
      'Кислотность': 3,
      'Травянистые': 0,
    },
  },
  {
    id: 'wine-20',
    name: 'Вионье Поместье Голубицкое',
    type: 'белый',
    price: generateRandomPrice(),
    image: whiteWineBottle,
    colorDescription: 'Глубокий золотистый с янтарными отблесками.',
    aromaTags: ['Косточковые фрукты', 'Цветочные', 'Тропические', 'Пряные'],
    flavorTags: ['Косточковые фрукты', 'Цветочные', 'Тропические'],
    aromaDescription: 'Роскошный аромат абрикоса, персика, жасмина и меда.',
    flavorDescription: 'Полнотелое, маслянистое вино с богатой текстурой.',
    ratings: { vivino: 4.3, wineEnthusiast: 4.6, cellarTracker: 4.5 },
    averageRating: 4.5,
    characteristics: {
      body: 4,
      sweetness: 'сухое',
      acidity: 3,
      tannins: 1,
      aromatic: 5,
    },
    productionMethod: 'Ферментация и выдержка в дубовых бочках',
    grapeVariety: '100% Вионье',
    flavorProfile: {
      'Косточковые фрукты': 5,
      'Цветочные': 5,
      'Тропические': 4,
      'Пряные': 3,
    },
    flavorWheelProfile: {
      'Цветочные': 5,
      'Цитрусовые': 1,
      'Косточковые фрукты': 5,
      'Тропические фрукты': 4,
      'Тело': 4,
      'Кремовость': 4,
      'Минеральность': 2,
      'Кислотность': 3,
      'Травянистые': 0,
    },
  },
];

// Combine test wines with extra wines for 90 total
const combinedWines = [...testWines, ...extraWines];

// Use parsed wines if available, otherwise use combined data (90 wines)
export const wines: Wine[] = parsedWines.length > 0 ? parsedWines : combinedWines;

console.log('Final wines exported:', wines.length);
console.log('Using:', parsedWines.length > 0 ? 'parsed wines' : 'combined wines');
console.log('First exported wine image:', wines[0]?.image);

// Legacy data (keeping for reference, but using parsed data above)
export const winesLegacy: Wine[] = [
  {
    id: '1',
    name: 'Château Margaux 2015',
    type: 'red',
    region: 'Bordeaux, France',
    year: 2015,
    price: 450,
    rating: 4.8,
    image: 'https://images.unsplash.com/photo-1652284299342-21749ba9baa8?crop=entropy&cs=tinysrgb&fit=max&fm=jpg&ixid=M3w3Nzg4Nzd8MHwxfHNlYXJjaHwxfHxyZWQlMjB3aW5lJTIwYm9yZGVhdXglMjBib3R0bGV8ZW58MXx8fHwxNzU5NzIzOTA0fDA&ixlib=rb-4.1.0&q=80&w=1080',
    description: 'Элегантное вино с бархатистыми танинами и длительным послевкусием',
    flavors: ['Черная смородина', 'Вишня', 'Кедр'],
    aromas: ['Фиалка', 'Табак', 'Ваниль'],
    flavorProfile: {
      'Косточковые фрукты': 3,
      'Тело': 5,
      'Цветочные': 2,
      'Кремовость': 3
    },
    characteristics: {
      body: 5,
      sweetness: 2,
      acidity: 4,
      tannins: 4
    },
    recommendations: {
      glass: 'Бокал Бордо',
      temperature: '16-18°C',
      decantation: true,
      aeration: '1-2 часа'
    },
    reviews: 234,
    vineyard: 'Château Margaux'
  },
  {
    id: '2',
    name: 'Cloudy Bay Sauvignon Blanc 2022',
    type: 'white',
    region: 'Marlborough, New Zealand',
    year: 2022,
    price: 35,
    rating: 4.5,
    image: 'https://images.unsplash.com/photo-1572095755816-4a48d680f864?crop=entropy&cs=tinysrgb&fit=max&fm=jpg&ixid=M3w3Nzg4Nzd8MHwxfHNlYXJjaHwxfHx3aGl0ZSUyMHdpbmUlMjBzYXV2aWdub24lMjBib3R0bGV8ZW58MXx8fHwxNzU5NzIzOTA0fDA&ixlib=rb-4.1.0&q=80&w=1080',
    description: 'Свежее белое вино с яркой кислотностью и тропическими нотами',
    flavors: ['Маракуйя', 'Лайм', 'Грейпфрут'],
    aromas: ['Крыжовник', 'Базилик', 'Минералы'],
    flavorProfile: {
      'Цитрусовые': 5,
      'Тропические фрукты': 4,
      'Кислотность': 5,
      'Минеральность': 3,
      'Травянистые': 2
    },
    characteristics: {
      body: 3,
      sweetness: 1,
      acidity: 5,
      tannins: 1
    },
    recommendations: {
      glass: 'Бокал для белого вина',
      temperature: '8-10°C',
      decantation: false,
      aeration: 'Не требуется'
    },
    reviews: 189,
    vineyard: 'Cloudy Bay'
  },
  {
    id: '3',
    name: 'Domaine de la Romanée-Conti 2018',
    type: 'red',
    region: 'Burgundy, France',
    year: 2018,
    price: 1200,
    rating: 5.0,
    image: 'https://images.unsplash.com/photo-1629154168869-95c8e955eaed?crop=entropy&cs=tinysrgb&fit=max&fm=jpg&ixid=M3w3Nzg4Nzd8MHwxfHNlYXJjaHwxfHxidXJndW5keSUyMHdpbmUlMjBib3R0bGV8ZW58MXx8fHwxNzU5NzIzOTA1fDA&ixlib=rb-4.1.0&q=80&w=1080',
    description: 'Легендарное вино с исключительной элегантностью и сложностью',
    flavors: ['Малина', 'Клубника', 'Роза'],
    aromas: ['Трюфель', 'Лесная земля', 'Специи'],
    flavorProfile: {
      'Косточковые фрукты': 4,
      'Цветочные': 5,
      'Тело': 4,
      'Минеральность': 5,
      'Кислотность': 4
    },
    characteristics: {
      body: 4,
      sweetness: 2,
      acidity: 4,
      tannins: 3
    },
    recommendations: {
      glass: 'Бокал Бургундия',
      temperature: '14-16°C',
      decantation: true,
      aeration: '2-3 часа'
    },
    reviews: 567,
    vineyard: 'Domaine de la Romanée-Conti'
  },
  {
    id: '4',
    name: 'Veuve Clicquot Brut',
    type: 'sparkling',
    region: 'Champagne, France',
    year: 2015,
    price: 65,
    rating: 4.6,
    image: 'https://images.unsplash.com/photo-1630771496884-46ce7c270a52?crop=entropy&cs=tinysrgb&fit=max&fm=jpg&ixid=M3w3Nzg4Nzd8MHwxfHNlYXJjaHwxfHxjaGFtcGFnbmUlMjBib3R0bGUlMjB2ZXV2ZSUyMGNsaWNxdW90fGVufDF8fHx8MTc1OTcyMzkwNXww&ixlib=rb-4.1.0&q=80&w=1080',
    description: 'Классическое шампанское с тонкими пузырьками и богатым вкусом',
    flavors: ['Яблоко', 'Бриошь', 'Миндаль'],
    aromas: ['Цитрус', 'Ваниль', 'Тост'],
    flavorProfile: {
      'Косточковые фрукты': 3,
      'Цитрусовые': 4,
      'Кремовость': 4,
      'Кислотность': 4,
      'Цветочные': 2
    },
    characteristics: {
      body: 3,
      sweetness: 2,
      acidity: 4,
      tannins: 1
    },
    recommendations: {
      glass: 'Флют',
      temperature: '6-8°C',
      decantation: false,
      aeration: 'Не требуется'
    },
    reviews: 423,
    vineyard: 'Veuve Clicquot'
  },
  {
    id: '5',
    name: 'Château d\'Yquem 2019',
    type: 'white',
    region: 'Sauternes, France',
    year: 2019,
    price: 320,
    rating: 4.9,
    image: 'https://images.unsplash.com/photo-1743184579851-5ec9972100b3?crop=entropy&cs=tinysrgb&fit=max&fm=jpg&ixid=M3w3Nzg4Nzd8MHwxfHNlYXJjaHwxfHxzYXV0ZXJuZXMlMjBkZXNzZXJ0JTIwd2luZSUyMGJvdHRsZXxlbnwxfHx8fDE3NTk3MjM5MDZ8MA&ixlib=rb-4.1.0&q=80&w=1080',
    description: 'Изысканное десертное вино с идеальным балансом сладости и кислотности',
    flavors: ['Абрикос', 'Мед', 'Карамель'],
    aromas: ['Апельсиновая цедра', 'Шафран', 'Боботис'],
    flavorProfile: {
      'Тропические фрукты': 5,
      'Косточковые фрукты': 5,
      'Цветочные': 4,
      'Кремовость': 5,
      'Кислотность': 3
    },
    characteristics: {
      body: 5,
      sweetness: 5,
      acidity: 4,
      tannins: 1
    },
    recommendations: {
      glass: 'Бокал для десертного вина',
      temperature: '10-12°C',
      decantation: false,
      aeration: '30 минут'
    },
    reviews: 312,
    vineyard: 'Château d\'Yquem'
  },
  {
    id: '6',
    name: 'Antinori Tignanello 2020',
    type: 'red',
    region: 'Tuscany, Italy',
    year: 2020,
    price: 125,
    rating: 4.7,
    image: 'https://images.unsplash.com/photo-1596641069082-b1d5ac2b6fc1?crop=entropy&cs=tinysrgb&fit=max&fm=jpg&ixid=M3w3Nzg4Nzd8MHwxfHNlYXJjaHwxfHxpdGFsaWFuJTIwd2luZSUyMHR1c2NhbnklMjBib3R0bGV8ZW58MXx8fHwxNzU5NzIzOTA2fDA&ixlib=rb-4.1.0&q=80&w=1080',
    description: 'Супертосканское вино с богатым вкусом и бархатистой текстурой',
    flavors: ['Слива', 'Черешня', 'Шоколад'],
    aromas: ['Кофе', 'Кожа', 'Специи'],
    flavorProfile: {
      'Косточковые фрукты': 5,
      'Тело': 5,
      'Кремовость': 4,
      'Кислотность': 3
    },
    characteristics: {
      body: 5,
      sweetness: 2,
      acidity: 3,
      tannins: 4
    },
    recommendations: {
      glass: 'Бокал Бордо',
      temperature: '16-18°C',
      decantation: true,
      aeration: '1 час'
    },
    reviews: 278,
    vineyard: 'Antinori'
  },
  {
    id: '7',
    name: 'Whispering Angel Rosé 2023',
    type: 'rose',
    region: 'Provence, France',
    year: 2023,
    price: 28,
    rating: 4.3,
    image: 'https://images.unsplash.com/photo-1688745796589-d96b5984f920?crop=entropy&cs=tinysrgb&fit=max&fm=jpg&ixid=M3w3Nzg4Nzd8MHwxfHNlYXJjaHwxfHxyb3NlJTIwd2luZSUyMHByb3ZlbmNlJTIwYm90dGxlfGVufDF8fHx8MTc1OTcyMzkwN3ww&ixlib=rb-4.1.0&q=80&w=1080',
    description: 'Легкое и освежающее розе с нотами красных фруктов',
    flavors: ['Клубника', 'Арбуз', 'Персик'],
    aromas: ['Роза', 'Цитрус', 'Минералы'],
    flavorProfile: {
      'Косточковые фрукты': 3,
      'Цитрусовые': 3,
      'Цветочные': 4,
      'Кислотность': 4,
      'Минеральность': 3
    },
    characteristics: {
      body: 2,
      sweetness: 2,
      acidity: 4,
      tannins: 1
    },
    recommendations: {
      glass: 'Бокал для белого вина',
      temperature: '8-10°C',
      decantation: false,
      aeration: 'Не требуется'
    },
    reviews: 445,
    vineyard: 'Château d\'Esclans'
  },
  {
    id: '8',
    name: 'Penfolds Grange 2017',
    type: 'red',
    region: 'South Australia',
    year: 2017,
    price: 650,
    rating: 4.8,
    image: 'https://images.unsplash.com/photo-1744233277849-029cd7f525d2?crop=entropy&cs=tinysrgb&fit=max&fm=jpg&ixid=M3w3Nzg4Nzd8MHwxfHNlYXJjaHwxfHxhdXN0cmFsaWFuJTIwc2hpcmF6JTIwd2luZSUyMGJvdHRsZXxlbnwxfHx8fDE3NTk3MjM5MDd8MA&ixlib=rb-4.1.0&q=80&w=1080',
    description: 'Легендарный австралийский Шираз с мощной структурой',
    flavors: ['Ежевика', 'Слива', 'Темный шоколад'],
    aromas: ['Перец', 'Эвкалипт', 'Дуб'],
    flavorProfile: {
      'Косточковые фрукты': 4,
      'Тело': 5,
      'Травянистые': 2,
      'Кремовость': 3
    },
    characteristics: {
      body: 5,
      sweetness: 2,
      acidity: 3,
      tannins: 5
    },
    recommendations: {
      glass: 'Бокал Сира/Шираз',
      temperature: '16-18°C',
      decantation: true,
      aeration: '2 часа'
    },
    reviews: 389,
    vineyard: 'Penfolds'
  }
];
